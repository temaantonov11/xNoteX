[[IoT]]

`esp_wifi.h` - заголовочный файл, предоставляемый **ESP-IDF** для работы с Wi-Fi на микроконтроллерах семейства **ESP32** и **ESP8266**. Этот файл содержит функции и структуры данных, необходимые для настройки и управления Wi-Fi-соединениями на устройствах Espressif.
## Основные возможности `esp_wifi.h`
### Инициализация и деинициализация Wi-Fi:

- `esp_wifi_init()` - инициализация Wi-Fi драйвера
- `esp_wifi_deinit()` - деинициализация Wi-Fi драйвера
### Режимы работы Wi-Fi

- **Режим станции (STA)**: устройство не создает свою сеть, а подключается к существующей Wi-Fi сети - точке доступа (AP). 
- **Режим точки доступа (AP)**: устройство создает свою точку доступа.
- **Смешанный режим (STA+AP)**: устройство одновременно подключается к точке доступа и создает свою.
- `esp_wifi_set_mode()` — установка режима работы (STA, AP, STA+AP).
### Настройка параметров Wi-Fi

- `esp_wifi_set_config()` - установка конфигурации Wi-Fi (например, SSID и пароль).
- `esp_wifi_get_config()` - получение текущей конфигурации Wi-Fi
### Управление подключением

- `esp_wifi_start()` - запуск Wi-Fi
- `esp_wifi_stop()` - остановка Wi-Fi
- `esp_wifi_connect()` - подключение к точки доступа
- `esp_wifi_disconnect()` - отключение от точки доступа
### Сканирование сетей

- `esp_wifi_scan_start()` - запуск сканирования доступных Wi-Fi сетей.
- `esp_wifi_scan_get_ap_num()` - получение количества найденных сетей.
- `esp_wifi_scan_get_ap_records()` - получение информации о найденных сетях.
### Управление питанием

- `esp_wifi_set_ps()` - настройка режима энергосбережения (Power Save).

## Система событий Wi-Fi

В **ESP-IDF** (Espressif IoT Development Framework) система событий Wi-Fi используется для уведомления приложения о различных изменениях состояния Wi-Fi, таких как подключение к точке доступа, отключение, получение IP-адреса и т.д. События Wi-Fi обрабатываются через **Event Loop** (цикл событий), который является частью ESP-IDF.
### Группы событий Wi-Fi

События Wi-Fi делятся на 2 группы:
- **WIFI_EVENT**:
	Относятся к изменениям состояния Wi-Fi (например, подключение, отключение).
- **IP_EVENT**:
	Относятся к изменениям состояния IP-соединения (например, получение IP-адреса).
### Основные WIFI_EVENT

- `WIFI_EVENT_STA_START`:
	Событие возникает, когда Wi-Fi в режиме станции (STA) успешно запущен. Пример использования: После этого события можно вызвать `esp_wifi_connect()` для подключения к точки доступа.
- `WIFI_EVENT_STA_STOP`:
	Событие возникает, когда Wi-Fi в режиме STA остановлен.
- `WIFI_EVENT_STA_CONNECTED`:
	Событие возникает, когда устройство успешно подключилось к точки доступа. Пример использования: можно начать процесс получения IP-адреса.
- `WIFI_EVENT_STA_DISCONNECTED`:
	Событие возникает, когда устройство отключается от точки доступа. Пример использования: можно попытаться переподключиться.
- `WIFI_EVENT_SCAN_DONE`:
	Событие возникает, когда сканирование Wi-Fi сетей завершено. Пример использования: получить результаты сканирования с помощью `esp_wifi_scan_get_ap_records()`
- `WIFI_EVENT_AP_START`: 
	Событие возникает, когда точка доступа (**AP**) успешно запущена.
- `WIFI_EVENT_AP_STOP`:
	Событие возникает, когда **AP** остановлен.
- `WIFI_EVENT_AP_STACONNECTED`:
	Событие возникает, когда устройство(**STA**) подключается к **AP**
	
